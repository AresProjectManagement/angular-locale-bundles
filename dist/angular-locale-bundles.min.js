/**! 
 * @license angular-locale-bundles v0.1.3
 * Copyright (c) 2013 . https://github.com/AresProjectManagement/angular-locale-bundles
 * License: MIT
 */
!function(){"use strict";var a=function(a,b,c,d){var e=this,f=angular.extend({responseTransformer:function(a){return a.data},httpOpts:void 0},d);this.translations=a.get(c,f.httpOpts).then(f.responseTransformer,function(){return{}}),this.addToScope=function(a,c){c=c||"bundle",e.translations.then(function(d){angular.forEach(d,function(d,e){b(c+"."+e).assign(a,d)})})},this.get=function(a){return e.translations.then(function(b){return b[a]||a},function(){return a})}},b=function(){function b(a,b){return b?d.replace("{{bundle}}",a||"").replace("{{locale}}",b||""):c.replace("{{bundle}}",a||"")}var c,d,e={},f=!0,g=!0,h=function(a){return a.data};this.httpConfig=function(a){angular.extend(e,a)},this.bundleUrl=function(a){c=a},this.bundleLocaleUrl=function(a){d=a},this.responseTransformer=function(a){h=a},this.useAcceptLanguageHeader=function(a){f=a},this.enableHttpCache=function(a){g=a},this.$get=function(c,d){return function(i,j){var k=b(i,j),l={headers:j&&f?{"Accept-Language":j}:void 0,cache:g};return angular.extend(l,e),new a(c,d,k,{httpOpts:l,responseTransformer:h})}},this.$get.$inject=["$http","$parse"]},c=function(a){function b(a){if(!a||0===a.trim().length)return null;var b={bundle:a,prefix:"bundle"},c=[];return a.indexOf(" as ")>-1&&(c=a.split(/\s+as\s+/),b.bundle=c[0],b.prefix=c[1]),b}return{link:function(c,d,e){var f=b(e.localeBundle);f&&(a(f.bundle).addToScope(c,f.prefix),c.$watch(f.prefix+".locale",function(b){b&&0!==b.trim().length?a(f.bundle,b).addToScope(c,f.prefix):a(f.bundle).addToScope(c,f.prefix)}))}}};angular.module("angular-locale-bundles",[]).provider("localeBundleFactory",b).directive("localeBundle",["localeBundleFactory",c])}();